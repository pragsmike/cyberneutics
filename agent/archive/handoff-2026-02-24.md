# Session Handoff: 2026-02-24 (Cowork plugin build + review fixes)

---

## Session Summary

**Duration**: Extended session across two phases. Phase 1: build the full Cowork plugin from `agent/prompts/create-cowork-plugin.md`. Phase 2: respond to `agent/cowork-plugin-review.md` and apply structural fixes.

**Original intent**: mg asked to read the build prompt and execute it. After the initial build and commit, mg provided an external review (`agent/cowork-plugin-review.md`) and asked whether the concerns were valid, then asked to apply fixes.

**Actual outcome**: Plugin built (18 files), committed, reviewed, restructured (14 files changed), committed again. Two commits total:
- `674d087` — initial plugin build (18 new files)
- `30bbeb1` — review fixes: restructured agents, fixed terminology and references

**Key deliverables**:
- `cowork-plugin/` directory: complete Cowork plugin, structurally revised per review
- `agent/cowork-plugin-review.md`: the external review (committed for the record)
- Two clean commits with descriptive messages

---

## Mistakes and Lessons

- **Characters-as-agents structural mismatch**: The build prompt specified characters as `agents/` files for context isolation. The plugin system's `agents/` directory exposes files as independently invocable sub-agents — which would cause Maya, Frankie, etc. to fire individually outside committee context. The build prompt's intent (context isolation) was right but the mechanism (top-level agents/) was wrong for the plugin system. Lesson: when packaging methodology into a plugin framework, check whether the framework's directory semantics match your intent, not just whether the directory name matches your concept.

- **Terminology collision not caught on first pass**: Used "agents" throughout user-facing text to refer to committee characters. In the plugin system, "agents" means sub-agents (a technical concept). This created confusion the reviewer flagged. Lesson: when writing for a platform, adopt the platform's terminology for its concepts and use different words for your own.

- **Previous handoff said "no mistakes"**: The initial handoff (archived as `handoff-2026-02-24-plugin-build.md`) said no mistakes were encountered. The review proved that wrong — the structural issue was present from the start. Lesson: "no mistakes encountered" often means "mistakes not yet discovered." Be more cautious about this claim, especially for untested output.

---

## Dead Ends Explored

- **Considered keeping characters as top-level agents with constrained descriptions** (reviewer's Option 3): Rejected because it fights the plugin system's design — agents are *meant* to be independently invocable. Adding "only invoke as part of committee" to the description field is a hack that would confuse the runtime.

---

## Current State

### Completed this session

| Item | Location | Notes |
|------|----------|-------|
| Plugin v0.1.1 | `cowork-plugin/` | Structurally revised per review |
| Committee orchestrator | `cowork-plugin/agents/committee-orchestrator.md` | Single entry-point agent; reads character files from skills/ |
| Character definitions | `cowork-plugin/skills/committee/characters/*.md` | Moved from agents/; no longer independently invocable |
| plugin.json | `cowork-plugin/.claude-plugin/plugin.json` | Author field fixed to object format |
| Terminology fixes | commands/committee.md, review.md, README.md, skills/ | "agents" → "committee members" throughout |
| Execution references | commands/committee.md | Now explicitly references orchestrator and character files |
| Token cost note | commands/probe.md | "Cost and scope" section added |
| Build prompt | `agent/prompts/create-cowork-plugin.md` | Committed as build documentation |
| External review | `agent/cowork-plugin-review.md` | Committed for the record |

### Not applied from review (by design or deferral)

- **Removed `.mcp.json`**: Reviewer flagged as unnecessary. Left it — removing an empty file isn't worth a commit.
- **LICENSE file**: Reviewer recommended. Not added yet — needs mg's decision on license terms for the plugin specifically (repo is CC BY-SA 4.0 for essays, MIT for code).
- **settings.json**: Reviewer suggested setting default agent. Not added — worth revisiting when the plugin has been tested.
- **hooks/hooks.json**: Reviewer suggested SessionStart and Stop hooks. Deferred to v2.
- **string-diagram as odd-one-out**: Reviewer noted it's a formalization tool, not a decision tool. Left in per build prompt spec. mg can remove if it doesn't fit the plugin's audience.

### From prior handoffs (unchanged)

- Pask mesh fitting rename still pending
- Ablation-study, comparative evaluation, CI string-diagram job still pending mg's decisions
- Rubric score persistence question still open

---

## Immediate Next Steps

1. **Test the plugin in Cowork** — install via `--plugin-dir` and run `/cyberneutics:committee` on a real decision. Key validation: does the orchestrator agent fire correctly? Do character definitions load from `skills/committee/characters/`? Do the five members produce genuinely distinct positions?
2. **Test context isolation** — verify whether the orchestrator can invoke each character as a separate Task (genuine context isolation) or falls back to sequential-in-one-context. The orchestrator includes instructions for both modes.
3. **Consider LICENSE** — decide whether the plugin is MIT (like repo code) or something else before any distribution.
4. **Iterate on character prompts if needed** — if the five members converge too easily in testing, sharpen the cross-member challenge instructions in `skills/committee/characters/*.md`.

---

## Working with mg: Session-Specific Insights

- **mg sources external reviews**: Rather than asking the session agent to self-review, mg obtained an independent review (`agent/cowork-plugin-review.md`) and asked the agent to assess it. This is the cyberneutics pattern applied to the plugin build itself — generator/evaluator separation.
- **"Are the concerns valid?"**: mg doesn't ask "fix this." mg asks "is this right?" first, then decides. The agent's job is honest assessment, not defensive compliance. When I said the HIGH concern was valid and explained the tension with the build prompt's intent, mg accepted the restructuring.
- **mg accepts pragmatic compromises explicitly**: "If it's just doing effectively what the non-cowork workflow does, that's at least not worse. If option 2 will do that, that's ok." mg names what they're giving up (true context isolation) and why it's acceptable (at least matches current behavior). This is the Frankie pattern — principled compromise with eyes open.
- **"Make all the fixes"**: After the assessment conversation, mg issues a single compound instruction. Same chaining pattern as previous sessions.
- **mg moved the "Cost and scope" section** after "Output: the landscape map" in probe.md (linter/manual edit). The original position was between "How the probe works" and "For rigorous landscape mapping." mg's placement puts cost information after the user understands what they're getting, not before — which is better UX for a decision-maker reading top to bottom.

---

## Open Questions and Decisions Needed

- **Context isolation in Cowork**: Can the orchestrator agent actually invoke Tasks for each character? The orchestrator's instructions describe this as "Preferred" mode, with a "Fallback" of sequential-in-one-context. Testing will determine which mode the runtime supports.
- **Scenario character independence**: The four scenario lenses (Continuity/Disruption/Adaptation/Constraint) are described inline in `commands/scenarios.md`. Should they get their own character files under `skills/scenarios/characters/` in a future version?
- **Plugin distribution**: If mg intends to share this plugin beyond personal use, it needs LICENSE, possibly CHANGELOG, and testing documentation.
- **Prior open questions**: pask-mesh-fitting rename, rubric score persistence, CI workflow, comparative evaluation.

---

## Technical Notes

- **Plugin directory structure after review fixes**:
  ```
  cowork-plugin/
  ├── .claude-plugin/plugin.json
  ├── .mcp.json
  ├── README.md
  ├── agents/
  │   └── committee-orchestrator.md     ← single entry-point
  ├── commands/
  │   ├── committee.md
  │   ├── scenarios.md
  │   ├── probe.md
  │   ├── review.md
  │   ├── handoff.md
  │   └── string-diagram.md
  └── skills/
      ├── orientation/SKILL.md
      ├── fan-funnel/SKILL.md
      ├── palgebra/SKILL.md
      └── committee/
          ├── SKILL.md
          └── characters/               ← moved from agents/
              ├── maya.md
              ├── frankie.md
              ├── joe.md
              ├── vic.md
              └── tammy.md
  ```
- **Three archived handoffs from today**: `agent/archive/handoff-2026-02-24-editorial.md` (essay remediation), `agent/archive/handoff-2026-02-24-plugin-build.md` (initial plugin build, pre-review). This is the third session on the same date.

---

## Watch-Outs for Successor

- **The orchestrator agent is the critical path**: If `agents/committee-orchestrator.md` doesn't invoke correctly in Cowork, the entire committee flow breaks. Test this first.
- **Character files still have agent-style YAML frontmatter**: The five files in `skills/committee/characters/` still have `name:` and `description:` in their frontmatter (from when they were agents). This is harmless as skill reference material but could be cleaned up if it causes confusion.
- **mg edits files between agent turns**: The probe.md and committee.md section ordering was adjusted by mg directly. Don't assume the last-committed version matches what the agent wrote — read the file fresh.
- **Build prompt vs. actual structure diverged**: `agent/prompts/create-cowork-plugin.md` specifies characters in `agents/`. The actual plugin now has them in `skills/committee/characters/`. The build prompt is historical documentation of the original spec, not the current structure.

---

## What Worked Well / What To Do Differently

**Worked well**:
- Reading all 10 source files before writing produced high-quality character definitions and commands that faithfully represent the methodology
- The external review caught a real structural issue that self-review missed
- Honest assessment of review concerns (not defensive) led to mg accepting the restructuring quickly

**Do differently**:
- Test against the actual plugin spec *before* the first commit, not after an external review
- Use platform-native terminology from the start (committee members, not agents) to avoid a terminology cleanup pass
- Don't write "no mistakes encountered" in handoffs for untested work

---

## Session Metadata

**Agent**: Extended session (plugin build + review response + fixes)
**Date**: 2026-02-24
**Goal**: Build Cowork plugin, respond to external review, apply fixes
**Status**: Plugin built and structurally revised. Two commits made. Untested in Cowork runtime.
**Previous handoffs**: agent/archive/handoff-2026-02-24-plugin-build.md, agent/archive/handoff-2026-02-24-editorial.md
**Continuation priority**: Test in Cowork → validate orchestrator → iterate on character prompts if needed
